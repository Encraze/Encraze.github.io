import{c as A}from"./index-e8209ef9.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="7b05a5ec-cd4f-4ae9-8717-2a463b16aea6",e._sentryDebugIdIdentifier="sentry-dbid-7b05a5ec-cd4f-4ae9-8717-2a463b16aea6")}catch{}})();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class R{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(t){var s;return new W(this,this.newID(),t.name,(s=t.priority)!==null&&s!==void 0?s:0,!!t.disableScroll)}createBlocker(t={}){return new B(this,this.newID(),t.disable,!!t.disableScroll)}start(t,s,n){return this.canStart(t)?(this.requestedStart.set(s,n),!0):(this.requestedStart.delete(s),!1)}capture(t,s,n){if(!this.start(t,s,n))return!1;const a=this.requestedStart;let i=-1e4;if(a.forEach(c=>{i=Math.max(i,c)}),i===n){this.capturedId=s,a.clear();const c=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(c),!0}return a.delete(s),!1}release(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)}disableGesture(t,s){let n=this.disabledGestures.get(t);n===void 0&&(n=new Set,this.disabledGestures.set(t,n)),n.add(s)}enableGesture(t,s){const n=this.disabledGestures.get(t);n!==void 0&&n.delete(s)}disableScroll(t){this.disabledScroll.add(t),this.disabledScroll.size===1&&document.body.classList.add(L)}enableScroll(t){this.disabledScroll.delete(t),this.disabledScroll.size===0&&document.body.classList.remove(L)}canStart(t){return!(this.capturedId!==void 0||this.isDisabled(t))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(t){const s=this.disabledGestures.get(t);return!!(s&&s.size>0)}newID(){return this.gestureId++,this.gestureId}}class W{constructor(t,s,n,a,i){this.id=s,this.name=n,this.disableScroll=i,this.priority=a*1e6+s,this.ctrl=t}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class B{constructor(t,s,n,a){this.id=s,this.disable=n,this.disableScroll=a,this.ctrl=t}block(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.disableGesture(t,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.enableGesture(t,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const L="backdrop-no-scroll",V=new R;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const X=(e,t,s,n)=>{const a=F(e)?{capture:!!n.capture,passive:!!n.passive}:!!n.capture;let i,c;return e.__zone_symbol__addEventListener?(i="__zone_symbol__addEventListener",c="__zone_symbol__removeEventListener"):(i="addEventListener",c="removeEventListener"),e[i](t,s,a),()=>{e[c](t,s,a)}},F=e=>{if(T===void 0)try{const t=Object.defineProperty({},"passive",{get:()=>{T=!0}});e.addEventListener("optsTest",()=>{},t)}catch{T=!1}return!!T};let T;const j=2e3,H=(e,t,s,n,a)=>{let i,c,b,u,d,l,S,v=0;const o=f=>{v=Date.now()+j,t(f)&&(!c&&s&&(c=X(e,"touchmove",s,a)),b||(b=X(f.target,"touchend",r,a)),u||(u=X(f.target,"touchcancel",r,a)))},p=f=>{v>Date.now()||t(f)&&(!l&&s&&(l=X(P(e),"mousemove",s,a)),S||(S=X(P(e),"mouseup",y,a)))},r=f=>{m(),n&&n(f)},y=f=>{w(),n&&n(f)},m=()=>{c&&c(),b&&b(),u&&u(),c=b=u=void 0},w=()=>{l&&l(),S&&S(),l=S=void 0},g=()=>{m(),w()},E=(f=!0)=>{f?(i||(i=X(e,"touchstart",o,a)),d||(d=X(e,"mousedown",p,a))):(i&&i(),d&&d(),i=d=void 0,g())};return{enable:E,stop:g,destroy:()=>{E(!1),n=s=t=void 0}}},P=e=>e instanceof Document?e:e.ownerDocument,K=(e,t,s)=>{const n=s*(Math.PI/180),a=e==="x",i=Math.cos(n),c=t*t;let b=0,u=0,d=!1,l=0;return{start(S,v){b=S,u=v,l=0,d=!0},detect(S,v){if(!d)return!1;const o=S-b,p=v-u,r=o*o+p*p;if(r<c)return!1;const y=Math.sqrt(r),m=(a?o:p)/y;return m>i?l=1:m<-i?l=-1:l=0,d=!1,!0},isGesture(){return l!==0},getDirection(){return l}}},N=e=>{let t=!1,s=!1,n=!0,a=!1;const i=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),c=i.canStart,b=i.onWillStart,u=i.onStart,d=i.onEnd,l=i.notCaptured,S=i.onMove,v=i.threshold,o=i.passive,p=i.blurOnStart,r={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},y=K(i.direction,i.threshold,i.maxAngle),m=V.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),w=h=>{const M=z(h);return s||!n||(x(h,r),r.startX=r.currentX,r.startY=r.currentY,r.startTime=r.currentTime=M,r.velocityX=r.velocityY=r.deltaX=r.deltaY=0,r.event=h,c&&c(r)===!1)||(m.release(),!m.start())?!1:(s=!0,v===0?D():(y.start(r.startX,r.startY),!0))},g=h=>{if(t){!a&&n&&(a=!0,C(r,h),requestAnimationFrame(E));return}C(r,h),y.detect(r.currentX,r.currentY)&&(!y.isGesture()||!D())&&k()},E=()=>{t&&(a=!1,S&&S(r))},D=()=>m.capture()?(t=!0,n=!1,r.startX=r.currentX,r.startY=r.currentY,r.startTime=r.currentTime,b?b(r).then(Y):Y(),!0):!1,f=()=>{if(typeof document<"u"){const h=document.activeElement;h?.blur&&h.blur()}},Y=()=>{p&&f(),u&&u(r),n=!0},_=()=>{t=!1,s=!1,a=!1,n=!0,m.release()},I=h=>{const M=t,q=n;if(_(),!!q){if(C(r,h),M){d&&d(r);return}l&&l(r)}},G=H(i.el,w,g,I,{capture:!1,passive:o}),k=()=>{_(),G.stop(),l&&l(r)};return{enable(h=!0){h||(t&&I(void 0),_()),G.enable(h)},destroy(){m.destroy(),G.destroy()}}},C=(e,t)=>{if(!t)return;const s=e.currentX,n=e.currentY,a=e.currentTime;x(t,e);const i=e.currentX,c=e.currentY,u=(e.currentTime=z(t))-a;if(u>0&&u<100){const d=(i-s)/u,l=(c-n)/u;e.velocityX=d*.7+e.velocityX*.3,e.velocityY=l*.7+e.velocityY*.3}e.deltaX=i-e.startX,e.deltaY=c-e.startY,e.event=t},x=(e,t)=>{let s=0,n=0;if(e){const a=e.changedTouches;if(a&&a.length>0){const i=a[0];s=i.clientX,n=i.clientY}else e.pageX!==void 0&&(s=e.pageX,n=e.pageY)}t.currentX=s,t.currentY=n},z=e=>e.timeStamp||Date.now();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const O=e=>e&&e.dir!==""?e.dir.toLowerCase()==="rtl":document?.dir.toLowerCase()==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const U=(e,t,s,n,a)=>{const i=e.ownerDocument.defaultView;let c=O(e);const b=o=>{const{startX:r}=o;return c?r>=i.innerWidth-50:r<=50},u=o=>c?-o.deltaX:o.deltaX,d=o=>c?-o.velocityX:o.velocityX;return N({el:e,gestureName:"goback-swipe",gesturePriority:101,threshold:10,canStart:o=>(c=O(e),b(o)&&t()),onStart:s,onMove:o=>{const r=u(o)/i.innerWidth;n(r)},onEnd:o=>{const p=u(o),r=i.innerWidth,y=p/r,m=d(o),w=r/2,g=m>=0&&(m>.2||p>w),D=(g?1-y:y)*r;let f=0;if(D>5){const Y=D/Math.abs(m);f=Math.min(Y,540)}a(g,y<=0?.01:A(0,y,.9999),f)}})};export{U as createSwipeBackGesture};
//# sourceMappingURL=swipe-back-71cb4ccd.js.map
